<div ng-controller="wpspformsController">
          <div class="row">
            <div class="col-md-5">              
              <div class="box box-solid">
                <div class="box-header with-border"><i data-toggle="tooltip" title="" data-original-title="Before Create new Form you need to create 'List'. Every form belongs to list and you can display created form using shortcode ,show popup on specific pages or display form in widget area. You can create diffrent form for diffrent pages or widget area for diffrent list. Like you can create subscription list for e-commerce product ,blog subscription ,new updates pages or new release." data-placement="right" class="fa fa-fw fa-question-circle"></i>
                  <h3 ng-show='add_prod' class="box-title">Add New Form</h3>
                  <h3 ng-show='update_prod' class="box-title">Update Form </h3>
                  <div class="box-tools">
                    <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                  </div>
                </div>
                <div class="box-body no-padding">
                  <form name="userForm" role="form" ng-submit="product_submit(userForm.$valid)" novalidate>
                  <div class="box-body">                   
                    <div class="box box-default box-solid">
                            <div class="box-header with-border">
                                <h3 class="box-title">{{translation.SUBSCRIPTION_FORM_SETTING}}</h3>                                
                                <div class="box-tools">
                                    <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                </div>
                            </div>
                            <div class="box-body no-padding">
                               
                                  <div class="box-body">   
                                   <div class="form-group row row">
                                            <div class="col-md-3"><label for="wp_subscription_title">{{translation.SUBSCRIPTION_FORM_TITLE}}*</label></div>
                                            <div class="col-md-9"> 
                                                <input type="text" name="wp_subscription_title" class="form-control" ng-model="wp_subscription_title" id="wp_subscription_title"value="{{wp_subscription_title}}" placeholder="{{translation.SUBSCRIPTION_FORM_TITLE}}" required>
                                                 <p class="label label-danger" ng-show="userForm.wp_subscription_title.$error.required">{{translation.SUBSCRIPTION_FORM_TITLE}} is required.</p> 
                                                 </br>
                                                {{translation.SUBSCRIPTION_FORM_TITLE}}
                                            </div>

                                        </div>
                                        <div class="form-group row row"><hr>
                                            <div class="col-md-3"><label for="wp_subscription_sub_title">{{translation.SUBSCRIPTION_FORM_SUB_TITLE}}</label></div>
                                            <div class="col-md-9"> 
                                                 <textarea class="form-control" id="wp_subscription_sub_title" ng-model="wp_subscription_sub_title" placeholder="{{translation.SUBSCRIPTION_FORM_SUB_TITLE}}" cols="80" rows="4">{{wp_subscription_sub_title}}</textarea>                                              
                                            </div>

                                        </div>

                                        <div class="form-group row row"><hr>
                                            <div class="col-md-3"><label for="wp_subscription_enable_first_name">{{translation.ENABLE_FIRST_NAME}}</label></div>
                                            <div class="col-md-9"> <input  id="wp_subscription_enable_first_name" type="checkbox"  id="wp_subscription_enable_first_name" ng-checked="wp_subscription_enable_first_name == 1" ng-model="wp_subscription_enable_first_name">
                                                {{translation.ENABLE_FIRST_NAME_HELP}} 
                                            </div>

                                        </div>
                                        <div class="form-group row row">
                                            <div class="col-md-3"><label for="wp_subscription_first_name">{{translation.ENTER_FIRST_NAME}}</label></div>
                                            <div class="col-md-9"> 
                                                <input type="text" class="form-control" placeholder="{{translation.ENTER_FIRST_NAME}}" id="wp_subscription_first_name"ng-model="wp_subscription_first_name" value="{{wp_subscription_first_name}}">                                            
                                                {{translation.ENTER_FIRST_NAME}}
                                            </div>

                                        </div>

                                        <div class="form-group row row"><hr>
                                            <div class="col-md-3"><label for="wp_subscription_enable_last_name">{{translation.ENABLE_LAST_NAME}}</label></div>
                                            <div class="col-md-9"> <input id="wp_subscription_enable_last_name" type="checkbox"   ng-checked="wp_subscription_enable_last_name == 1" ng-model="wp_subscription_enable_last_name">
                                                {{translation.ENABLE_LAST_NAME_HELP}} 
                                            </div>

                                        </div>
                                           <div class="form-group row row">
                                            <div class="col-md-3"><label for="wp_subscription_last_name">{{translation.ENTER_LAST_NAME}}</label></div>
                                            <div class="col-md-9"> 
                                                <input type="text" class="form-control" id="wp_subscription_last_name"placeholder="{{translation.ENTER_LAST_NAME}}" ng-model="wp_subscription_last_name" value="{{wp_subscription_last_name}}">                                            
                                                {{translation.ENTER_LAST_NAME}}
                                            </div>

                                        </div>

                                         <div class="form-group row row"><hr>
                                            <div class="col-md-3"><label for="wp_subscription_email_label">{{translation.ENTER_EMAIL_LABEL}}</label></div>
                                            <div class="col-md-9"> 
                                                <input type="text" class="form-control" id="wp_subscription_email_label"placeholder="{{translation.ENTER_EMAIL_LABEL}}" ng-model="wp_subscription_email_label" value="{{wp_subscription_email_label}}">                                            
                                                {{translation.ENTER_EMAIL_LABEL}}
                                            </div>
                                        </div>

                                        <div class="form-group row row"><hr>
                                            <div class="col-md-3"><label for="wp_subscription_button_label">{{translation.SUBSCRIPTION_FORM_BUTTON}}</label></div>
                                            <div class="col-md-9"> 
                                                <input type="text" class="form-control" id="wp_subscription_button_label"placeholder="{{translation.SUBSCRIPTION_FORM_BUTTON}}" ng-model="wp_subscription_button_label" value="{{wp_subscription_button_label}}">                                            
                                                {{translation.SUBSCRIPTION_FORM_BUTTON}}
                                            </div>
                                        </div>

                                      

                                       
                                    </div><!-- /.box-body -->
                               
                            </div><!-- /.box-body -->
                        </div><!-- /. box -->   
                   
                    <div class="box box-default box-solid">
                            <div class="box-header with-border">
                                <h3 class="box-title">Form List</h3>                                
                                <div class="box-tools">
                                    <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                </div>
                            </div>
                            <div class="box-body no-padding">
                              
                                  <div class="box-body">   
                                      
                                       <div  class="form-group ng-pristine ng-valid" ng-init="get_list()">
                                            <label for="list_id">List*</label><br>                        
                                            <select name="list_id" id="list_id" ng-model="list_id" required>
                                              <option ng-repeat="option in listItems" class="ng-scope ng-binding" value="{{option.id}}">{{option.list_name}}</option>
                                            </select>
                                            <p class="label label-danger" ng-show="userForm.list_id.$error.required">List is required.</p> 
                                                 </br>
                                        </div>
                                         
                                       
                                    </div><!-- /.box-body -->

                              
                            </div><!-- /.box-body -->
                        </div><!-- /. box -->   

                        <div class="box box-default box-solid">
                            <div class="box-header with-border">
                                <h3 class="box-title">Autoresponder</h3>                                
                                <div class="box-tools">
                                    <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                </div>
                            </div>
                            <div class="box-body no-padding">
                              
                                  <div class="box-body">   
                                   <div  class="form-group ng-pristine ng-valid" ng-init="get_setting_form()">
                                            <label for="wp_subscription_mailchimp_list">Mailchimp</label>
                                            <span ng-if=" mailchimp_apikey_test== 'CONNECTED'" class="label label-success"> {{mailchimp_apikey_test}}</span>
                                                <span ng-if=" mailchimp_apikey_test!= 'CONNECTED'" class="label label-warning"> {{mailchimp_apikey_test}}</span>
                                                <p>{{mailchimp_apikey_list_message}}</p>

                                            <p>
                            <select name="wp_subscription_mailchimp_list" id="wp_subscription_mailchimp_list" ng-model="wp_subscription_mailchimp_list">
                                              <option ng-repeat="mailchimp_list in mailchimp_lists" class="ng-scope ng-binding" value="{{mailchimp_list.id}}">{{mailchimp_list.name}}</option>
                                            </select>
                                            </p>
                                           
                                        </div>
                                    </div><!-- /.box-body -->

                              
                            </div><!-- /.box-body -->
                        </div><!-- /. box -->   
                   
                        <div class="box box-default box-solid">
                            <div class="box-header with-border">
                                <h3 class="box-title">{{translation.SUBSCRIPTION_FORM_ERROR_MSG}}</h3>                                
                                <div class="box-tools">
                                    <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                </div>
                            </div>
                            <div class="box-body no-padding">
                              
                                  <div class="box-body">   
                                        <div class="form-group row row">
                                            <div class="col-md-3"><label for="wp_subscription_error_msg_required">{{translation.SUBSCRIPTION_FORM_ERROR_MSG_REQUIRED_FIELD}}</label></div>
                                            <div class="col-md-9"> 
                                                <input type="text" class="form-control" ng-model="wp_subscription_error_msg_required" id="wp_subscription_error_msg_required"value="{{wp_subscription_error_msg_required}}" placeholder="{{translation.SUBSCRIPTION_FORM_ERROR_MSG_REQUIRED_FIELD}}">                                            
                                                {{translation.SUBSCRIPTION_FORM_ERROR_MSG_REQUIRED_FIELD}}
                                            </div>
                                        </div>
                                        <div class="form-group row row">
                                            <div class="col-md-3"><label for="wp_subscription_error_msg_invalid_email">{{translation.SUBSCRIPTION_FORM_ERROR_MSG_INVALID_EMAIL}}</label></div>
                                            <div class="col-md-9"> 
                                                <input type="text" class="form-control" ng-model="wp_subscription_error_msg_invalid_email" id="wp_subscription_error_msg_invalid_email"value="{{wp_subscription_error_msg_invalid_email}}" placeholder="{{translation.SUBSCRIPTION_FORM_ERROR_MSG_INVALID_EMAIL}}">                                            
                                                {{translation.SUBSCRIPTION_FORM_ERROR_MSG_INVALID_EMAIL}}
                                            </div>
                                        </div>
                                        <div class="form-group row row">
                                            <div class="col-md-3"><label for="wp_subscription_error_msg_email_exist">{{translation.SUBSCRIPTION_FORM_ERROR_MSG_EMAIL_EXIST}}</label></div>
                                            <div class="col-md-9"> 
                                                <input type="text" class="form-control" ng-model="wp_subscription_error_msg_email_exist" id="wp_subscription_error_msg_email_exist"value="{{wp_subscription_error_msg_email_exist}}" placeholder="{{translation.SUBSCRIPTION_FORM_ERROR_MSG_EMAIL_EXIST}}">                                            
                                                {{translation.SUBSCRIPTION_FORM_ERROR_MSG_EMAIL_EXIST}}
                                            </div>
                                        </div>
                                        <div class="form-group row row">
                                            <div class="col-md-3"><label for="wp_subscription_success_msg">{{translation.SUBSCRIPTION_FORM_SUCCEES_MSG}}</label></div>
                                            <div class="col-md-9"> 
                                                <input type="text" class="form-control" ng-model="wp_subscription_success_msg" id="wp_subscription_success_msg"value="{{wp_subscription_success_msg}}" placeholder="{{translation.SUBSCRIPTION_FORM_SUCCEES_MSG}}">                                            
                                                {{translation.SUBSCRIPTION_FORM_SUCCEES_MSG}}
                                            </div>
                                        </div>
                                       
                                    </div><!-- /.box-body -->

                                
                            </div><!-- /.box-body -->
                        </div><!-- /. box -->   

                         <div class="box box-default box-solid">
                            <div class="box-header with-border">
                                <h3 class="box-title">{{translation.APPEAREARANCE_AND_LOOK}}</h3>                                
                                <div class="box-tools">
                                    <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                </div>
                            </div>
                            <div class="box-body no-padding">
                             
                                    <div class="box-body">
                                        <div class="form-group row">
                                            <div class="col-md-3"><label for="wp_subscription_language">Language</label></div>
                                            <div class="col-md-9"> 
                                                <select id="wp_subscription_language" ng-model="wp_subscription_language">
                                                    <option class="ng-scope ng-binding" value="English">English</option>                                
                                                </select>
                                                <i class=" fa fa-question-circle"></i> {{translation.DEFUALT_LNGUAGE}}
                                            </div>

                                        </div>
                                        
                                        <div class="form-group row">
                                            <div class="col-md-3"><label for="wp_subscription_appearance_skin">{{translation.DEFUALT_SKIN}}</label></div>
                                            <div class="col-md-9"> 
                                                <select id="wp_subscription_appearance_skin" ng-model="wp_subscription_appearance_skin">
                                                    <option class="ng-scope ng-binding" value="default">{{translation.DEFUALT}}</option>    
                                                </select>
                                                <i class=" fa fa-question-circle"></i> {{translation.DEFUALT_SKIN}}
                                            </div>

                                        </div>                                        
                                 

                                        <div class="form-group row">
                                            <div class="col-md-3"><label for="wp_subscription_appearance_custom_css">{{translation.CUSTUM_CSS_STYLES}}</label></div>
                                            <div class="col-md-9"> 
                                                <textarea id="wp_subscription_appearance_custom_css" ng-model="wp_subscription_appearance_custom_css">{{wp_subscription_appearance_custom_css}}</textarea>
                                            </div>
                                            <div class="col-md-offset-3 col-md-9">
                                                <i class=" fa fa-question-circle"></i> {{translation.CUSTUM_CSS_STYLES_MSG}}
                                            </div>
                                        </div>

                                    </div><!-- /.box-body -->
                                   
                               
                            </div><!-- /.box-body -->
                        </div><!-- /. box -->     

                  </div><!-- /.box-body -->

                  <div class="box-footer">
                      <input type="button" class="btn btn-primary" name="submit_product" ng-show='add_prod' value="Submit" ng-click="product_submit()" ng-disabled="userForm.$invalid">
            <input type="button" class="btn btn-primary" name="update_form" ng-show='update_prod' value="Update" ng-click="update_form()" ng-disabled="userForm.$invalid">  
                   
                  </div>
                </form>
                </div><!-- /.box-body -->
              </div><!-- /. box -->       
              
              <div class="small-box bg-gray">
            <div class="inner">
              <h4 clss="text-green">Import Forms</h4>

              <p class="text-muted">Import Forms using CSV files.</p>
            </div>
            <div class="icon">
              <i class="ion ion-bag"></i>
            </div>
            <a href="#" class="small-box-footer">Get Import Addon <i class="fa fa-arrow-circle-right"></i></a>
          </div>

                   <div class="box box-solid">
                   <div class="small-box bg-red">
                <div class="inner">
                  <h3>{{ totalItems}}</h3>
                  <p>Forms</p>
                </div>
                <div class="icon">
                  <i class="fa fa-th-list"></i>
                </div>                
              </div>
              </div><!-- /. box --> 
           
              
            </div><!-- /.col -->
            <div class="col-md-7">
              <div class="box box-primary">
                 <div class="box-header">
                  <h3 class="box-title"><a href="" class="download_csv" title="Download Form settings in CSV file"><i class="fa fa-download"></i></a> Forms</h3>
                </div><!-- /.box-header -->
                <div class="box-body">
                   <div class="row">
        <div class="col-md-2">PageSize:
            <select ng-model="entryLimit" class="form-control">
                <option>5</option>
                <option>10</option>
                <option>20</option>
                <option>50</option>
                <option>100</option>
            </select>
        </div>
        <div class="col-md-3">Filter:
            <input type="text" ng-model="search" ng-change="filter()" placeholder="Filter" class="form-control" />
        </div>
        <div class="col-md-4">
            <h5>Filtered {{ filtered.length }} of {{ totalItems}} total Forms</h5>
        </div>
    </div>
    <br/>
     <div class="row">
        <div class="col-md-12" ng-show="filteredItems > 0">
            <table class="table table-striped table-bordered">
            <thead>
            <th>ID&nbsp;<a ng-click="sort_by('id');"></a></th>
            <th>Form Name&nbsp;<a ng-click="sort_by('category_name');"></a></th>  
            <th>Shortcode</th>
            <th>Action</th>         
            </thead>
            <tbody ng-init="get_product()">
                <tr ng-repeat="product in filtered = (pagedItems | filter:search | orderBy : predicate :reverse) | startFrom:(currentPage-1)*entryLimit | limitTo:entryLimit">
                    <td>{{ product.id }}</td>
                    <td>{{ product.wp_subscription_title }}</td>
                    <td>[wp_subscription id='{{ product.id }}']</td>
                    <td><a href="" ng-click="editForm(product.id)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit</a> | <a href="" ng-click="prod_delete(product.id)"> <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Delete</a> | <a href="" data-toggle="modal" data-target="#myModal" ng-click="get_embeded_form(product.id)"><i class="fa fa-fw fa-code"></i> Embed </a> </td>
                </tr>
            </tbody>
            </table>
        </div>
        <div class="col-md-12" ng-show="filteredItems == 0">
            <div class="col-md-12">
                <h4>No Form found</h4>
            </div>
        </div>
        <div class="col-md-12" ng-show="filteredItems > 0">    
            <div pagination="" page="currentPage" on-select-page="setPage(page)" boundary-links="true" total-items="filteredItems" items-per-page="entryLimit" class="pagination-small" previous-text="&laquo;" next-text="&raquo;"></div>
        </div>
    </div>
                </div><!-- /.box-body -->
              </div><!-- /.box -->
            </div><!-- /.col -->
          </div><!-- /.row -->

          <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel"> Embede Code</h4>
      </div>
      <div class="modal-body">
        <textarea class="form-control" rows="15" id="copy-input" value="{{embeded_form}}">{{embeded_form}}</textarea>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button class="btn btn-default" type="button" id="copy-button"
          data-toggle="tooltip" data-placement="button"
          title="Copy to Clipboard">
        <i class="fa fa-fw fa-copy"></i> Copy
      </button>
      </div>
    </div>
  </div>
</div>

 

           </div><!-- /.aj -->
           <script type="text/javascript">
      jQuery(document).on("click", ".download_csv", function() {       
        var fileName = 'wpsp_forms';
        jQuery.ajax({
      url: wpsubscription_link.wpsubscription_ajax_url+'?action=wpuser_getFormAllData',         
      success: function(data) {
         JSONToCSVConvertor(data, fileName,true);       
      }
   });      
    }); 

      $('#copy-button').tooltip();
      $(document).ready(function() {
  // Initialize the tooltip.
  $('#copy-button').tooltip();

  // When the copy button is clicked, select the value of the text box, attempt
  // to execute the copy command, and trigger event to update tooltip message
  // to indicate whether the text was successfully copied.
  $('#copy-button').bind('click', function() {
    var input = document.querySelector('#copy-input');
    input.setSelectionRange(0, input.value.length + 1);
    try {
      var success = document.execCommand('copy');
      if (success) {
        $('#copy-button').trigger('copied', ['Copied!']);
      } else {
        $('#copy-button').trigger('copied', ['Copy with Ctrl-c']);
      }
    } catch (err) {
      $('#copy-button').trigger('copied', ['Copy with Ctrl-c']);
    }
  });

  // Handler for updating the tooltip message.
  $('#copy-button').bind('copied', function(event, message) {
    $(this).attr('title', message)
        .tooltip('fixTitle')
        .tooltip('show')
        .attr('title', "Copy to Clipboard")
        .tooltip('fixTitle');
  });
});
           </script>       

